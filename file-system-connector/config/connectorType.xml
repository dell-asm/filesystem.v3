<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
   "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
  <bean id = "smb-file-system-type"
        class = "com.google.enterprise.connector.filesystem.SmbFileSystemType">
    <constructor-arg ref="filesystem-property-manager" />
  </bean>

  <bean id = "java-file-system-type"
        class = "com.google.enterprise.connector.filesystem.JavaFileSystemType">
  </bean>
  
  <bean id = "windows-file-system-type"
        class = "com.google.enterprise.connector.filesystem.WindowsFileSystemType">
    <!-- 
      Flag to turn on / off last access time reset feature
    -->
    <constructor-arg value="false"/>
  </bean>

  <bean id = "nfs-file-system-type"
        class = "com.google.enterprise.connector.filesystem.NfsFileSystemType">
  </bean>

  <bean id="file-system-type-registry"
    class="com.google.enterprise.connector.filesystem.FileSystemTypeRegistry">
    <constructor-arg>
      <list>
        <ref bean="java-file-system-type" />
        <ref bean="windows-file-system-type" />
        <ref bean="smb-file-system-type" />
        <ref bean="nfs-file-system-type" />
      </list>
    </constructor-arg>
  </bean>

  <bean id="path-parser" class = "com.google.enterprise.connector.filesystem.PathParser">
     <constructor-arg ref="file-system-type-registry"/>
  </bean>

  <bean id="FileConnectorType"
    class="com.google.enterprise.connector.filesystem.FileConnectorType">
        <constructor-arg ref="path-parser"/>
  </bean>
  
    <bean id = "filesystem-property-manager"
        class = "com.google.enterprise.connector.filesystem.FileSystemPropertyManager"
        singleton = "false">
    <property name="aceSecurityLevel" value="FILEANDSHARE"/>
    <property name="markDocumentPublicFlag" value="false"/>
    <property name="lastAccessResetFlagForSmb" value="false"/>
    <property name="lastAccessResetFlagForLocalWindows" value="false"/>
    <property name="pushAclFlag" value="true"/>
    <property name="delayBetweenTwoScansInMillis" value="60000"/>
    <property name="queueSize" value="1000"/>
    <property name="introduceDelayAfterEveryScan" value="false"/>
    <property name="groupAclFormat" value="userOrGroup"/>
    <property name="userAclFormat" value="userOrGroup"/>
  </bean>
  
</beans>
